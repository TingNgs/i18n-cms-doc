---
sidebar_position: 3
---

# Configuration

All configuration files are located in `.i18n-cms` folder in root

## config.json
`config.json` is required for using this app. It helps us to define existing namespaces and languages and locate your translation files. 

| Key             | Required  |
|-----------------|-----------|
| fileType        | *         |
| fileStructure   | *         |
| basePath        |           |
| defaultLanguage |           |
| useCustomPath   |           |
| namespaces      |           |
| languages       |           |

### fileType
Required <br/>
Specify the file type of your translation files. We only support `json` and `yaml` for now. <br/>
Valid options:
- `json`
- `yaml`

### fileStructure
Required <br/>
Specify the file structure of your translation files. <br/>
Valid options:
- `{lng}/{ns}`
- `{ns}/{lng}`

### basePath
`string`<br/>
Specify the path to your translation folder.


We will load your namespaces and languages from `${basePath}/${fileStructure}.${fileType}` by default.<br/>
In the `basePath` directory, these file / directory will be ignored.
- any file without a directory
- directory starting with `.` 

Check `useCustomPath` below if your translation files are not structured like this.

#### Example with default file structure

```json title=".i18n-cms/config.json"
{
  "fileStructure": "{lng}/{ns}",
  "fileType": "json",
  "basePath": "public/locales",
  ...
}
```

```md title="File structure:"
- public
  - locales
    - en
      - translationA.json
      - translationB.json
    - zh
      - translationA.json
      - translationB.json
    - abc.json  <-- ignored
    - .xxxx/config.json  <-- ignored

```


### defaultLanguage
`string` <br/>
For example : `en`<br/>
Specify the default language.
We will sort the translation key by order of the translation file in the default language


### useCustomPath
`boolean` <br/>
If your translation files are not structured as `${basePath}/${fileStructure}.${fileType}`, you can 
- set `useCustomPath` to `true`
- define `namespaces` and `languages` in `.i18n-cms/config.json`
- Add `.i18n-cms/getCustomPath.js`

### languages
`string[]` <br/>
Only required if `useCustomPath` is `true`<br/>
Specify the existing languages of your translations file.<br/>
`languages` value will be updated if your add/remove languages through this app.<br/>
If you add any languages manually, please also update `languages` value in this config file.


### namespaces
`string[]`  <br/>
Only required if `useCustomPath` is `true`<br/>
Specify the existing namespaces of your translations file.<br/>
`namespaces` value will be updated if your add/remove languages through this app.<br/>
If you add any namespaces manually, please also update `namespaces` value in this config file.


## getCustomPath.js
Not required by default. Only needed when
- `useCustomPath` is `true`
- `namespaces` and `languages` is defined

in `.i18n-cms/config.json`

Export a function to get the path of translation file by language and namespace. Default get path function looks like

```js title='.i18n-cms/getCustomPath.js'
/** 
 * Get the path of translation file by language and namespace
 * @param {Object} data
 * @param {string} data.namespace - The namespace of translation file
 * @param {string} data.language - The language of translation file
 * @param {Object} data.repoConfig - config defined in `.i18n-cms/config.json`
 * @return {string} path of translation file
 */

export default function getCustomPath({ namespace, language, repoConfig }) {
  const { fileStructure, fileType, basePath, useCustomPath } = repoConfig;
  const filePath = fileStructure
          .replace('{lng}', language)
          .replace('{ns}', namespace)
          .concat(`.${fileType}`);

  const fullPath = `${basePath ? `${basePath}/` : ''}${filePath}`;
  return fullPath;
}
```

### Example with custom file structure

```json title=".i18n-cms/config.json"
{
  "fileStructure": "{lng}/{ns}",
  "fileType": "json",
  "defaultLanguage": "en",
  "useCustomPath": true,
  "namespaces": [
    "common",
    "featureA",
    "featureB",
  ],
  "languages": [
    "en",
    "zh"
  ]
}
```

```md title="File structure:"
- locales
  - en.json
  - zh.json
- feature
  - featureA
    - locales
      - en.json
      - zh.json
  - featureB
    - locales
      - en.json
      - zh.json
```
```js title='.i18n-cms/getCustomPath.js'
/** 
 * Get the path of translation file by language and namespace
 * @param {Object} data
 * @param {string} data.namespace - The namespace of translation file
 * @param {string} data.language - The language of translation file
 * @param {Object} data.repoConfig - config defined in `.i18n-cms/config.json`
 * @return {string} path of translation file
 */
export default function getCustomPath({ namespace, language, repoConfig }) {
  switch (namespace) {
    case "common":
      return `locales/${language}.${repoConfig.fileType}`;
    default:
      // Define a generic default return value, 
      // so you don't need to change any code if you're adding any new feature
      return `feature/${namespace}/locales/${language}.${repoConfig.fileType}`;
  }
}
```

